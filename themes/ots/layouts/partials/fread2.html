<pre class="top-6" style="text-align:left;">
  fread2 <- function(file, select = NULL,
                     character = NULL, numeric = NULL) {
    messageline()
    message("function fread2")
    message("file: ", file)

    if(str_sub(file, start = -2) == "gz") {
      d <- fread(
        cmd = paste("zcat", file),
        select = select,
        colClasses = list(
          character = character,
          numeric = numeric
        )
      ) %>%
        as_tibble() %>%
        clean_names()
    } else {
      d <- fread(
        input = file,
        select = select,
        colClasses = list(
          character = character,
          numeric = numeric
        )
      ) %>%
        as_tibble() %>%
        clean_names()
    }

    return(d)
  }
</pre>
